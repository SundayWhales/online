# Java 프로젝트와 디자인패턴

## Singleton pattern

### Singleton pattern 이란? 

*클래스 인스턴스가 사용되는 시점에 인스턴스를 만드는 패턴. 사용시점에만 인스턴스화 하기 때문에, 프로그램이 메모리에 적재되는 시점의 부담이 많이 줄어든다. 다만, multi thread 프로세싱에서는 singleton pattern 은 안전하지 않기 때문에, thread safe initialization 에 주의를 기울여야 한다.*

### 특징이자 규칙

- 인스턴스를 <u>private static</u> 으로 정의한다.
- 생성자(constructor) 는 <u>private</u> 으로 정의한다.
- 인스턴스를 사용하는 함수 ex: getInstance() 를 **public static** 으로 정의한다.

### 예제 코드 

> https://github.com/shwldus3/etl-kafka-stream/blob/master/src/main/java/org/etl/topics/JsonTopic.java



## Builder pattern

*객체 변수들을 private final (불변 변수) 로 선언하고, 직접 접근하여 값을 할당/변경 하지 못하도록 만드는 패턴 (setter 메소드를 만들지 않고, 오로지 생성자(builder) 를 통해서만 데이터를 입력받음)*

### 특징이자 규칙

- setter 를 만들지 않고, 객체를 만들다
- 데이터 순서에 상관없이 객체를 만들 수 있다
- 사용자가 봤을 때 명시적이고 이해할 수 있어야 한다.

### 예제 코드

> https://github.com/shwldus3/etl-kafka-stream/blob/master/src/main/java/org/etl/model/Table.java
>
> -> https://github.com/shwldus3/etl-kafka-stream/blob/master/src/main/java/org/etl/schema/FormatConverter.java (15 번째 라인)



## Factory method pattern

## Strategy pattern

*동적으로 알고리즘을 교체하는 디자인 패턴. 교환 가능한 행동을 캡슐화하고 위임을 통해서 어떤 작업을 사용할 지 결정한다.*

### 특징이자 규칙

- 알고리즘 인터페이스를 정의
- 각 알고리즘들을 클래스별로 캡슐화하여 교체 가능하도록 작성

### 예제 코드

> https://github.com/shwldus3/etl-kafka-stream/blob/master/src/main/java/org/etl/model/DBDelegate.java
>
> https://github.com/shwldus3/etl-kafka-stream/blob/master/src/main/java/org/etl/topics/TopicDelegate.java
>
> -> https://github.com/shwldus3/etl-kafka-stream/blob/master/src/main/java/org/etl/App.java